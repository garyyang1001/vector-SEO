# AI向量助手 (Vector AI Assistant)

透過OpenAI的嵌入技術，將WordPress文章轉換為向量資料，提升內容管理和SEO效果。

## 功能概述

AI向量助手是一款強大的 WordPress 外掛，透過 OpenAI 的向量嵌入技術，幫助站長更智能地管理網站內容：

- **向量索引**：將文章轉換為向量資料，使內容可被AI理解和搜尋
- **重複文章檢測**：自動比對並發現網站中相似度高的文章
- **相關文章推薦**：基於向量相似度提供更精準的相關文章建議
- **API使用統計**：完整追蹤Token使用量和成本

## 功能檢查結果 (2025/4/1)

我們完成了對外掛所有四個主要功能的全面檢查，結果顯示：

- **向量索引功能**：正常運作，成功將文章資料轉換為向量並存入資料庫
- **重複文章比對**：三種比對模式（快速、智慧、精準）皆運作正常
- **Token使用統計**：圖表與數據呈現正確，匯出功能正常
- **API設定頁面**：所有設定選項保存正常，資料庫類型切換功能正常

**資料庫整合狀態**：資料表結構完整，資料存取正常，遷移功能運作良好。前後端整合良好，AJAX請求處理流暢，所有功能頁面均能正確響應用戶操作。

## 主要特點

### 1. 向量索引功能

- 使用 OpenAI 的 text-embedding-3-small 模型將文章轉換為向量資料
- 可單篇或批量處理文章
- 智能處理長文章，自動截斷以符合Token限制
- 全中文支持，針對中文內容進行優化處理

### 2. 重複文章比對

提供三種比對模式：

- **快速模式**：僅使用向量相似度比對，速度快且效率高
- **智慧模式**：結合向量預篩選和GPT確認，平衡速度與準確性
- **精準模式**：使用GPT-4o-mini進行深度語義分析，最高準確度

### 3. API成本控制

- 精確追蹤Token用量和估計成本
- 可設置每月預算上限
- 支援預算警報，防止意外超支
- 提供詳細使用統計和報表匯出

### 4. 資料安全

- 支援WordPress資料庫和SQLite兩種存儲模式
- 提供在兩種資料庫類型間平滑遷移的功能
- 不將文章內容發送到第三方伺服器
- 支援自動日誌清理和資料維護

## 系統要求

- WordPress 5.2 或更高版本
- PHP 7.4 或更高版本
- 如使用SQLite模式，需啟用PDO和SQLite擴展
- OpenAI API金鑰 (支援text-embedding-3-small和gpt-4o-mini模型)
- 足夠的伺服器空間存儲向量資料庫

## 安裝方法

1. 下載外掛壓縮檔
2. 在WordPress後台，依次選擇"外掛" > "安裝外掛" > "上傳外掛"
3. 上傳並安裝外掛壓縮檔
4. 啟用外掛
5. 進入"AI向量助手" > "API設定"，輸入您的OpenAI API金鑰

## 使用指南

### 向量索引設置

1. 進入"AI向量助手"主頁面
2. 確認API金鑰有效
3. 選擇需要處理的文章，或使用"Import/Update All Posts"批量處理
4. 等待處理完成，文章將被標記為"已索引"

### 重複文章比對

1. 進入"重複文章比對"頁面
2. 選擇比對模式和相似度閾值
3. 點擊"開始比對"按鈕
4. 系統將自動分析所有已索引的文章
5. 比對完成後，查看並管理重複內容

### 統計和預算管理

1. 進入"Token使用統計"頁面查看使用情況
2. 可按日、月、年查看統計資料
3. 進入"API設定"頁設置費率和預算控制
4. 設置預算上限和警報閾值，避免意外超支

## 常見問題

### 如何選擇最適合的比對模式？

- **快速模式**：適合初步篩選或內容量大的網站
- **智慧模式**：適合大多數使用場景，平衡效率和準確性
- **精準模式**：適合需要高精度判斷或內容高度專業的網站

### 如何優化API成本？

1. 使用適當的批次大小（推薦設置為5-10）
2. 設置合理的預算上限和使用通知
3. 定期清理舊的使用記錄
4. 優先使用向量模式進行初步篩選

### 如何解決處理大量文章時的效能問題？

1. 增加批次處理的間隔時間
2. 減小批次大小，避免伺服器超時
3. 在伺服器負載低的時段進行處理
4. 確保PHP記憶體限制足夠

### 如何切換資料庫類型？

1. 進入"API設定"頁面，切換到"資料庫設定"標籤
2. 選擇所需的資料庫類型（WordPress資料庫或SQLite）
3. 如果從SQLite切換到WordPress資料庫，系統會顯示遷移選項
4. 點擊"開始遷移"按鈕，按照提示完成資料遷移

## 版本記錄

- **0.1.0**：初始版本，提供基本向量索引功能
- **0.2.0**：新增重複文章比對功能、新增WordPress資料庫支援
- **0.3.0**：新增Token使用統計和預算控制
- **0.4.0**：新增多種比對模式和智能截斷功能
- **0.5.0**：新增資料庫遷移功能，優化Token使用計算
- **0.5.1**：功能全面檢查更新，確認所有功能運作正常

## 開發團隊

AI向量助手由好事發生數位有限公司開發和維護。

- **網站**: [https://ohya.co](https://ohya.co)
- **聯絡**: gary@ohya.co

## 授權資訊

本外掛遵循GPL v2或更新版本的授權條款發布。
